compute_environment: LOCAL_MACHINE
num_processes: 6                
num_machines: 1
machine_rank: 0
distributed_type: MULTI_GPU
# distributed_type: FSDP
# fsdp_config:
#   fsdp_sharding_strategy: FULL_SHARD                # 最省显存
#   fsdp_sync_module_states: true                     # 确保初始化参数同步
#   fsdp_use_orig_params: true
#   fsdp_activation_checkpointing: true
#   fsdp_offload_params: true
# distributed_type: DEEPSPEED
# deepspeed_config:
#   zero_optimization:
#     stage: 3
#     contiguous_gradients: true
#     overlap_comm: true
#     reduce_bucket_size: 5e7
#     stage3_param_persistence_threshold: 1e6
#     offload_param:
#       device: cpu          # CPU/none，卡过小可选cpu
#     offload_optimizer:
#       device: none
#   bf16:
#     enabled: true
#   train_micro_batch_size_per_gpu: 1   # 你实际 batch 建议小，配 gradient_accumulation_steps
#   gradient_accumulation_steps: 1      # 配合 micro batch, 实现大batch
#   gradient_clipping: 1.0
#   steps_per_print: 50